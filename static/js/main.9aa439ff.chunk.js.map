{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","servises/searchQuery-api.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleChangeForm","target","name","value","setState","handleFormSubmite","e","preventDefault","onSubmite","props","formReset","className","s","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","placeholder","Component","api","fetchImagesWithQuery","page","url","fetch","then","response","json","LoadMoreBtn","onClick","ButtonWrapper","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdrop","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","ImageGalleryItem","showModal","toggleModal","src","srcForLarge","alt","ImageGalleryItemImage","Spiner","style","textAlign","color","height","width","timeout","ImageGallery","images","isLoading","handleLoadMore","newImages","hits","prevProps","prevState","prevQuery","nextQuery","scrollTo","top","documentElement","scrollHeight","behavior","map","image","largeImageURL","webformatURL","id","length","App","handleAddSearchQuery","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9aa439ff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonWrapper\":\"Button_ButtonWrapper__3ruuj\",\"Button\":\"Button_Button__76uQ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1zKkS\",\"Modal\":\"Modal_Modal__q8XrP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__fRNwk\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1P6xZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1sVBb\"};","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleChangeForm = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  };\n  handleFormSubmite = e => {\n    e.preventDefault();\n    const { searchQuery } = this.state;\n    const { onSubmite } = this.props;\n    onSubmite(searchQuery);\n    this.formReset();\n  };\n  formReset = () => {\n    this.setState({ searchQuery: '' });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleFormSubmite}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            name=\"searchQuery\"\n            value={this.state.searchQuery}\n            onChange={this.handleChangeForm}\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","const fetchImagesWithQuery = (searchQuery, page) => {\n  const apiKey = `18743526-4b128e40a70dee342e39fe313`;\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => response.json());\n};\nconst api = {\n  fetchImagesWithQuery,\n};\nexport default api;\n","import s from './Button.module.css';\nconst LoadMoreBtn = ({ onClick }) => {\n  return (\n    <div className={s.ButtonWrapper}>\n      <button className={s.Button} type=\"button\" onClick={() => onClick()}>\n        Load more\n      </button>\n    </div>\n  );\n};\nexport default LoadMoreBtn;\n","import React, { Component } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nconst modalRoot = document.querySelector('#modal-root');\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleBackdrop = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdrop}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nexport default Modal;\n","import React, { Component } from 'react';\nimport Modal from '../Modal/Modal';\nimport s from './ImageGalleryItem.module.css';\nclass ImageGalleryItem extends Component {\n  state = {\n    showModal: false,\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const { src, srcForLarge } = this.props;\n    const { showModal } = this.state;\n    return (\n      <div>\n        <li onClick={this.toggleModal} className={s.ImageGalleryItem}>\n          <img src={src} alt=\"\" className={s.ImageGalleryItemImage} />\n        </li>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={srcForLarge} alt=\"большая картинка\"></img>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\nexport default ImageGalleryItem;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Spiner = () => {\n  return (\n    <Loader\n      style={{ textAlign: 'center' }}\n      type=\"Oval\"\n      color=\"#00BFFF\"\n      height={50}\n      width={50}\n      timeout={3000} //3 secs\n    />\n  );\n};\nexport default Spiner;\n","import React, { Component } from 'react';\nimport s from './ImageGallery.module.css';\nimport api from '../../servises/searchQuery-api';\nimport LoadMoreBtn from '../Button/Button';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Spiner from '../Loader/Loader';\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    page: 1,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.searchQuery;\n    const nextQuery = this.props.searchQuery;\n    const { page } = this.state.page;\n    if (prevQuery !== nextQuery) {\n      this.setState({ isLoading: true, images: [] });\n      api.fetchImagesWithQuery(nextQuery, page).then(newImages =>\n        this.setState(({ images, page }) => ({\n          images: [...images, ...newImages.hits],\n          page: page + 1,\n          isLoading: false,\n        })),\n      );\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  handleLoadMore = () => {\n    this.setState({ isLoading: true });\n    return api\n      .fetchImagesWithQuery(this.props.searchQuery, this.state.page)\n      .then(newImages =>\n        this.setState(({ images, page }) => ({\n          images: [...images, ...newImages.hits],\n          page: page + 1,\n          isLoading: false,\n        })),\n      );\n  };\n\n  render() {\n    const { images, isLoading } = this.state;\n    return (\n      <div>\n        <ul className={s.ImageGallery}>\n          {images.map(image => (\n            <ImageGalleryItem\n              srcForLarge={image.largeImageURL}\n              src={image.webformatURL}\n              key={image.id}\n            />\n          ))}\n        </ul>\n        {isLoading && <Spiner />}\n        {images.length > 0 && (\n          <LoadMoreBtn onClick={this.handleLoadMore}></LoadMoreBtn>\n        )}\n      </div>\n    );\n  }\n}\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleAddSearchQuery = searchQuery => {\n    this.setState({ searchQuery });\n  };\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmite={this.handleAddSearchQuery}></Searchbar>\n        <ImageGallery searchQuery={this.state.searchQuery}></ImageGallery>\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__lnPd-\",\"SearchForm\":\"Searchbar_SearchForm__2RY8N\",\"SearchFormButton\":\"Searchbar_SearchFormButton__17uXN\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__ygW1_\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3HII_\"};"],"sourceRoot":""}